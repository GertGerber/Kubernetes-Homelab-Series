# Indicates the schema used to decode the contents.
version: v1alpha1
# Enable verbose logging to the console.
debug: false
persist: true
# Provides machine specific configuration options.
machine:
    # Defines the role of the machine within the cluster.
    type: controlplane
    # The `token` is used by a machine to join the PKI of the cluster.
    token: ENC[AES256_GCM,data:otcOJ1XXMFjSfR5NyOPysYcPpUgKJWY=,iv:eNqDSDOJrLhaqzo1Tq+ZCLYRX0toQv4CzkavSlwkZ6c=,tag:sNwB/p7EjoVGHPjjTDjyMg==,type:str]
    # The root certificate authority of the PKI.
    ca:
        crt: ENC[AES256_GCM,data:3TOPSgL2M1ROWIrFhLLuV0vbWNtilQpZ97Xw+lVFNAigovUa3gAvKhDxYbskDTYJur+75TIlIsqe9IyElS5FhipLduW1P4G06fKRpJ9nOxbRdoaaBH5vFK5SYfARqxawJYY4SUKMnUmzvy8tQp89KE/fu0z26mWg0aFEJtjn5US7X3S4AhXnvjvnNDL/5q8b5YdYTvlM3N0VT9bc+inIJSGRtxG/qbwXIrcF9qLP7ADWnVb00kwkDSFBc3A5OKsyt4W26fqAdLCzWNP17IPtacAqa2X5KSCufIcg5+uzH2ZGK1WS5RXIUJ/SDmBpF5xC6d4XN0nH0ddpVE2gUgUpDsCt5OebZCM5lafL0trlzMgs2op5bdMI2FAxJNiBNM1gl+vdcYEKyxUiWaHUfcVZsV0sBJQBL++Ddm+ybrEx47WG93r2z81xMIzL/6r4N97EaBYM5QAx+usS3DCLSpYB5uwPEKY3vaoUJW/SVS08d0VN7snVpyTjISFN7cFJdXKevCtOZDXhOH24BKkOJ/dcdbcDht5s+eEVkc2OVDUjqLSg8BrIYKffEfB9SyuO6WG4mltl33RYFCQjBVthIZWFPwOc/qT1G0O9Fj+muota34KG6zTbVxeVR+AGVFvVs9Rgo8XLhmJNTuOB3JL5RbCd5vhda6dg9LJU9qxxbf+YVi/h+Ex8sosYkVFX8m0ZAiAokzJxtu7zUjxsXHVqkLSmrF6oKM58mCTwOg36PMyiuq48IQzvJ4YZ+ObDY71+QIaCHKna5RWeYBzPiDmz7Z+YQMcTmwSD+Mw2zSygi8fFcoDzgAnJLIFEEd24OmqHu8COT3IoW9kPgMUeA+Lagqc/SvhKWNO/xgLl0d4Fsak8bTtyiLbF,iv:l9Ey11GZ09bpDJLn7CDfLsIn/hFc54PBD38j4Sr1kag=,tag:VnXC63CFwBV9uR63jPx+yw==,type:str]
        key: ENC[AES256_GCM,data:pLYhyo5GEr8EdywEIkaC68AZXoQ42fQ0aFrvHqLojqL+/fSlQvQ+cp64dWj1MqJISE3a+y0mmDJ4ittJ3DS4ixoPzb7R7MOJhVAI4B2fl7w2EhQUYA5yMKB9YOcoELtBROqQKerjoaH8HgZ9lKtj72ZKGLGifKvCRHAiUnhJXq4cswZHuhaww1olJH93hPqFsqmePWBIEhP/JjhDjjLE7PrvTKtEl313vmy8brDe3YypPRHj,iv:j5n+KiajliryeLXQfPTie9ayzuWBldWJBNar2RKT3SY=,tag:KVDkP87bEHcmFWlvFC8UXw==,type:str]
    # Extra certificate subject alternative names for the machine's certificate.
    certSANs: []
    #   # Uncomment this to enable SANs.
    #   - 10.0.0.10
    #   - 172.16.0.10
    #   - 192.168.0.10
    # Used to provide additional options to the kubelet.
    kubelet:
        # The `image` field is an optional reference to an alternative kubelet image.
        image: ghcr.io/siderolabs/kubelet:v1.35.0
        # Enable container runtime default Seccomp profile.
        defaultRuntimeSeccompProfileEnabled: true
        # The `disableManifestsDirectory` field configures the kubelet to get static pod manifests from the /etc/kubernetes/manifests directory.
        disableManifestsDirectory: true
        # # The `ClusterDNS` field is an optional reference to an alternative kubelet clusterDNS ip list.
        # clusterDNS:
        #     - 10.96.0.10
        #     - 169.254.2.53
        # # The `extraArgs` field is used to provide additional flags to the kubelet.
        # extraArgs:
        #     key: value
        # # The `extraMounts` field is used to add additional mounts to the kubelet container.
        # extraMounts:
        #     - destination: /var/lib/example # Destination is the absolute path where the mount will be placed in the container.
        #       type: bind # Type specifies the mount kind.
        #       source: /var/lib/example # Source specifies the source path of the mount.
        #       # Options are fstab style mount options.
        #       options:
        #         - bind
        #         - rshared
        #         - rw
        # # The `extraConfig` field is used to provide kubelet configuration overrides.
        # extraConfig:
        #     serverTLSBootstrap: true
        # # The `KubeletCredentialProviderConfig` field is used to provide kubelet credential configuration.
        # credentialProviderConfig:
        #     apiVersion: kubelet.config.k8s.io/v1
        #     kind: CredentialProviderConfig
        #     providers:
        #         - apiVersion: credentialprovider.kubelet.k8s.io/v1
        #           defaultCacheDuration: 12h
        #           matchImages:
        #             - '*.dkr.ecr.*.amazonaws.com'
        #             - '*.dkr.ecr.*.amazonaws.com.cn'
        #             - '*.dkr.ecr-fips.*.amazonaws.com'
        #             - '*.dkr.ecr.us-iso-east-1.c2s.ic.gov'
        #             - '*.dkr.ecr.us-isob-east-1.sc2s.sgov.gov'
        #           name: ecr-credential-provider
        # # The `nodeIP` field is used to configure `--node-ip` flag for the kubelet.
        # nodeIP:
        #     # The `validSubnets` field configures the networks to pick kubelet node IP from.
        #     validSubnets:
        #         - 10.0.0.0/8
        #         - '!10.0.0.3/32'
        #         - fdc7::/16
    # Provides machine specific network configuration options.
    network: {}
    # # Configures KubeSpan feature.
    # kubespan:
    #     enabled: true # Enable the KubeSpan feature.
    # Used to provide instructions for installations.
    install:
        # The disk used for installations.
        disk: /dev/sda
        # Allows for supplying the image used to perform the installation.
        image: factory.talos.dev/nocloud-installer/88d1f7a5c4f1d3aba7df787c448c1d3d008ed29cfb34af53fa0df4336a56040b:v1.12.0
        # Indicates if the installation disk should be wiped at installation time.
        wipe: false
        # Indicates if legacy GRUB bootloader should use kernel cmdline from the UKI instead of building it on the host.
        grubUseUKICmdline: true
        # # Look up disk using disk attributes like model, size, serial and others.
        # diskSelector:
        #     size: 4GB # Disk size.
        #     model: WDC* # Disk model `/sys/block/<dev>/device/model`.
        #     busPath: /pci0000:00/0000:00:17.0/ata1/host0/target0:0:0/0:0:0:0 # Disk bus path.
    # Features describe individual Talos features that can be switched on or off.
    features:
        # Enable XFS project quota support for EPHEMERAL partition and user disks.
        diskQuotaSupport: true
        # KubePrism - local proxy/load balancer on defined port that will distribute
        kubePrism:
            # Enable KubePrism support - will start local load balancing proxy.
            enabled: true
            # KubePrism port.
            port: 7445
        # Configures host DNS caching resolver.
        hostDNS:
            # Enable host DNS caching resolver.
            enabled: true
            # Use the host DNS resolver as upstream for Kubernetes CoreDNS pods.
            forwardKubeDNSToHost: true
            # # Configure Talos API access from Kubernetes pods.
            # kubernetesTalosAPIAccess:
            #     enabled: true # Enable Talos API access from Kubernetes pods.
            #     # The list of Talos API roles which can be granted for access from Kubernetes pods.
            #     allowedRoles:
            #         - os:reader
            #     # The list of Kubernetes namespaces Talos API access is available from.
            #     allowedKubernetesNamespaces:
            #         - kube-system
    # Configures the node labels for the machine.
    nodeLabels:
        node.kubernetes.io/exclude-from-external-load-balancers: ""
        # # Provides machine specific control plane configuration options.
        # # ControlPlane definition example.
        # controlPlane:
        #     # Controller manager machine specific configuration options.
        #     controllerManager:
        #         disabled: false # Disable kube-controller-manager on the node.
        #     # Scheduler machine specific configuration options.
        #     scheduler:
        #         disabled: true # Disable kube-scheduler on the node.
        # # Used to provide static pod definitions to be run by the kubelet directly bypassing the kube-apiserver.
        # # nginx static pod.
        # pods:
        #     - apiVersion: v1
        #       kind: pod
        #       metadata:
        #         name: nginx
        #       spec:
        #         containers:
        #             - image: nginx
        #               name: nginx
        # # Allows the addition of user specified files.
        # # MachineFiles usage example.
        # files:
        #     - content: '...' # The contents of the file.
        #       permissions: 0o666 # The file's permissions in octal.
        #       path: /tmp/file.txt # The path of the file.
        #       op: append # The operation to use
        # # The `env` field allows for the addition of environment variables.
        # # Environment variables definition examples.
        # env:
        #     GRPC_GO_LOG_SEVERITY_LEVEL: info
        #     GRPC_GO_LOG_VERBOSITY_LEVEL: "99"
        #     https_proxy: http://SERVER:PORT/
        # env:
        #     GRPC_GO_LOG_SEVERITY_LEVEL: error
        #     https_proxy: https://USERNAME:PASSWORD@SERVER:PORT/
        # env:
        #     https_proxy: http://DOMAIN\USERNAME:PASSWORD@SERVER:PORT/
        # # Used to configure the machine's sysctls.
        # # MachineSysctls usage example.
        # sysctls:
        #     kernel.domainname: talos.dev
        #     net.ipv4.ip_forward: "0"
        #     net/ipv6/conf/eth0.100/disable_ipv6: "1"
        # # Used to configure the machine's sysfs.
        # # MachineSysfs usage example.
        # sysfs:
        #     devices.system.cpu.cpu0.cpufreq.scaling_governor: performance
        # # Configures the udev system.
        # udev:
        #     # List of udev rules to apply to the udev system
        #     rules:
        #         - SUBSYSTEM=="drm", KERNEL=="renderD*", GROUP="44", MODE="0660"
        # # Configures the logging system.
        # logging:
        #     # Logging destination.
        #     destinations:
        #         - endpoint: tcp://1.2.3.4:12345 # Where to send logs. Supported protocols are "tcp" and "udp".
        #           format: json_lines # Logs format.
        # # Configures the kernel.
        # kernel:
        #     # Kernel modules to load.
        #     modules:
        #         - name: btrfs # Module name.
        # # Configures the seccomp profiles for the machine.
        # seccompProfiles:
        #     - name: audit.json # The `name` field is used to provide the file name of the seccomp profile.
        #       # The `value` field is used to provide the seccomp profile.
        #       value:
        #         defaultAction: SCMP_ACT_LOG
        # # Override (patch) settings in the default OCI runtime spec for CRI containers.
        # # override default open file limit
        # baseRuntimeSpecOverrides:
        #     process:
        #         rlimits:
        #             - hard: 1024
        #               soft: 1024
        #               type: RLIMIT_NOFILE
        # # Configures the node annotations for the machine.
        # # node annotations example.
        # nodeAnnotations:
        #     customer.io/rack: r13a25
        # # Configures the node taints for the machine. Effect is optional.
        # # node taints example.
        # nodeTaints:
        #     exampleTaint: exampleTaintValue:NoSchedule
# Provides cluster specific configuration options.
cluster:
    # Globally unique identifier for this cluster (base64 encoded random 32 bytes).
    id: ENC[AES256_GCM,data:EaJNqIT5zC/8pfFSuMmETm+EHs6bh0n48hKrRc27WntugBXqATneL2T0+q0=,iv:Q9x9jUth1gsr3eOQZJ/IDmq5Lt2YvmH9gpwIFnGpYbg=,tag:7Q5xTYU9hjbzNWrscN4Lyw==,type:str]
    # Shared secret of cluster (base64 encoded random 32 bytes).
    secret: ENC[AES256_GCM,data:NJ8DhWg6B9W5bumb4v8FuonsuKZEorzVLb7MC1yjBg5Vw/fDqh4z+hBTCA0=,iv:SXCaVo97LGkmCFJTizPioG0CEa2YOerfZbc7cWlyZoA=,tag:lzvYER98FCggjAoBMeY1YQ==,type:str]
    # Provides control plane specific configuration options.
    controlPlane:
        # Endpoint is the canonical controlplane endpoint, which can be an IP address or a DNS hostname.
        endpoint: https://192.168.88.50:6443
    # Configures the cluster's name.
    clusterName: talos-kube
    # Provides cluster specific network configuration options.
    network:
        # The domain used by Kubernetes DNS.
        dnsDomain: cluster.local
        # The pod subnet CIDR.
        podSubnets:
            - 10.244.0.0/16
        # The service subnet CIDR.
        serviceSubnets:
            - 10.96.0.0/12
            # # The CNI used.
            # cni:
            #     name: custom # Name of CNI to use.
            #     # URLs containing manifests to apply for the CNI.
            #     urls:
            #         - https://docs.projectcalico.org/archive/v3.20/manifests/canal.yaml
    # The [bootstrap token](https://kubernetes.io/docs/reference/access-authn-authz/bootstrap-tokens/) used to join the cluster.
    token: ENC[AES256_GCM,data:6LVx19ZSbYFk30/nHVr6ShAO/2hx3IE=,iv:ppykejZuIqxvU5zSuTcICjm7DO1CBctV9g37oYGojT4=,tag:mZ++qw75k6HxRGYKZtlMLQ==,type:str]
    # A key used for the [encryption of secret data at rest](https://kubernetes.io/docs/tasks/administer-cluster/encrypt-data/).
    secretboxEncryptionSecret: ENC[AES256_GCM,data:60dHks0XPpy4KTwPb1vXCBoQn3yjIiAQJc1zhESkSvf4flYTB11xtMFtYnY=,iv:aovCZjkpsLuijrIgFVPR4i8YeBCckHrdhknfGIwn7+U=,tag:VRA5DlTt+6TZjylq5LIVsw==,type:str]
    # The base64 encoded root certificate authority used by Kubernetes.
    ca:
        crt: ENC[AES256_GCM,data:xBtbA5ap242SP3mGHHpWMheEv1hT7GOZ1ZxAbNLLbQHCpju1/+3pTwapKSmJCZl/j7BG0F88QFU/HVEcSQB9pL1V4Y7PXRutvuKgS4Gvg9Lt35/K9Todvb5Zg27qC5IOVBxHUnBghve5Vyw+h/aWerbY0pJKfI85rc54SdDephgtFZsJDklHoL+wvXe7wEsPEiFdBrRUoqL+Pdo3/yNc64nJt3laBEqz03o6MorVldhmQRbUMgmAZ3c9DzM8jCcH4uZErxhtLZ/BNunaOvRn3PgELU3M1BY0TX4oSnSN9tFUzKD1IEFh4HkxaOVBGRsP4jWhs81Ad8qT0N1JDayls4hJcCwKzh+NzRjUwT2BT0pkccTUcsjiquzEmURsfX86rnLqd5Dtzex4h2C+GfUF3hf/4eGOkW1oIobnko7r9W0ctW68U0wdG/Ygff4+DHaO3CyAZ9MLg57t5+8vF9pS0a5RiksmZVMFJPYKpNkjgMWxkryur+SfDQDBVNxw2crVzvwARG54+8kt3YvHLfff1bwv3TNtsmbQeACiJC0B6oBKOKOX0mBAImdEHSXVJf6wx3TtCOSssURIpAc5KyIU3qX/x1uuUT2C0eqXPyDXIV7r0dEDP5CtE2hC2Oqclye5azYXyz5zSD1fiTLUHKIqNMf1XBr8SAtnUfC8oQ9xw8V76SId/0GdX86q5NDMXwOj3HrVCUZ7Y104K1juOdLD9mA7cC1iFFMwxRCgjWLBfTxg+7T7A0cgEtPY0fcx6yBICS9Brg+Iw/NgnjrJeKEhBGLRCrsPmd2fDwnzpYLhDAlXt6iBBfoYU7NTqlsVAvnI70cEtRmQZCEH4s8pkGQimM6LIYMe5qFOfBId20GGzhY/gkWTGYJCMK1Yp/IO0so4mkSYTWPJUJlFw9O7nwQrl7b+MUTSLSIJ54/ubIy5Epmx06lI/uYYB1EpiYmoRbJQjGonz/uvOs0itUSMb1p15xbPOhJy6mzYZnuUAd3zE9mx8dDiqZ5XbNpEj6wy3L78lHVCx3opTmneh8HscH+FGmuNZL5Gg37ja1Fm2g==,iv:DmCUsyvs/Xb60Ap/xdOd3XEZLLFkNorW3tj073aTfEY=,tag:jHFJkbo46w6IJpPxOViz9g==,type:str]
        key: ENC[AES256_GCM,data:cQBb1kkbcMQXnJXHdH/b425Fk7JVyitqo5uzl6YoxMi3fpm8sCrz+ONgUI2VJK37R2wFltDmhH24GEgyftC+/BeFq9mlcepB2Gca+es9Dh06zXBEYrCepL0gTPGQ1gyrxL23JUkTqGjVg3bY5whBUc3Dd8HoiUheE0moCJbZM8qBT7FWy6VaWs7r0Gz/1tuNtaSj/V+ATfJ43WRFWHg22RZMQqARgnCJ33bQg14gXVsIft6XZAIdxWTA3REpIGgPaSeW/0s+gWgqHizhWPgZ8vaB/hy3ox/6fNfJXQ/g4nJF69JtSeHheVWrwV21VOvMV2i+N3YZAMCIKSgi3wAn0URY39f23rJZR9c48xPcvYCeIQjC1kpBTV7zKKO509YAOY2AyB0FpvKW/toQ7A9rZQ==,iv:eLjdrPay3SszUyiVAuvoUdRcEpZTu1+v77DtssFqJoM=,tag:Fi0bKo0+076PLHRJh62tbw==,type:str]
    # The base64 encoded aggregator certificate authority used by Kubernetes for front-proxy certificate generation.
    aggregatorCA:
        crt: ENC[AES256_GCM,data:yEQMLEwX7KnNeZwpMp2zMpur9JLKIdiobJhHmg5xeyZGK1I+zEf3mUL+i+K/X0CKdsKZXAMd+ufSs3OxE8MDgoboq8c335sYs6wj3EmuYaTa2LBbz8nU2nl6F1gdQ08A4KBbufXRNe5A/mQuyK8jk+z3hTlg00/JW3cZUZJVRS2SZq9qDNerGmJvSszlVuEuIk9cQHw5CT8hGhKaLx+l6WXHk9VWpziUze8txu0CCQT4r6c+SYBRJ3Rm2zCI4bQDqxoOnTLFzmtrcysUckFlbmFZSWZ7JuVjS3tXDDsUyZE2yjEKoWlJT4o9vvzYTSnvym6dsUWR9Q+mQMOHbGreAwwhj8p0luKvnyc4nk/pWggmpaj1l/kNJp9ZJTYSWYmDlZf6KhDNgR/oHn5IEgl6A8J6JfJffaIvw8rwptzNxI7Htd19i3RHXI7mm0CtEVijs6jCVZQ9SOqO651b258EfU7JXRyRRBjf68ZgrJRu46Ipqc3PgapnilTw8DzNa/eVpW5yns4KT6qeRzBBzuyhyaP8UsgSKRRCYtHbIRn0cktjqM4+Jl10ncuVV8Im7V8bhw2cCcR4s0JY7oyOGO44c2aMmxxEYFf5ezuCb/9OgIMk5+1kRxMgJlV0gtGoO4vaTFFTUXjS8CfhkKcReKw7Kd+xUZo8UBx0eLtVvzuPZXWuwsSsc9VNMWsumtkn7I3dxW1XDfWRcIf8n8UN8csqYSAgODdHQO+a5cN+mDhLpiiuVhcHTtoxnPfKFvigbePNM/28slCUOVaAQOWdp864CPreEAurl+rLOVug9WyHqLqmO0PjjJMzL+Sf67M7l5uNXqthMIGe9HErSvTBXIoP04lDBHhTWDB9bKXPpijkS7IAYiDIAyHCAtUuYa/3cPnExd88oNFpwMkdfrKlYDLoWVSU27hYnQ+hww0GcF/XKraM6O9tKeFeWVQ/1I0+8F5X,iv:0DFMBIuqAvf1b8KSp0vD/Kxn7unMS9HNQvXacxVWZ1U=,tag:S+g/R2uzmQYo+/H7KE/Dbg==,type:str]
        key: ENC[AES256_GCM,data:bavRoV9qHUSBTu2nSblzfDlcCnpVSHAPXsqOe7nVHVPDNU8jSOTiEDYI+QsI+e03qqmyFYcLokGH0gFQc6fxtzDo9bnjjxy0QGYVpXIsbyDGUId/HlejZbmiSyZHZYvDKZikWb9nLYjTCXDnMAm1Bca0iMOP45PcjWqwUU2dAZK9uLruzJBlgEFWKJ0J+hX/EmFw7Yq08HBM1dTJNinPhGlkb68FiTJgo5DwKTTM+a6zGG+jC8yvl6YrsNNGUW9kuysWeVRXryEGxXZy3QlBputIWO5A9IIteW1GIxELOBF1dhuxX2nm0e0cYSPmIfp48b4AbqRLcw/I2iV5Ob/SBgdjperonPk2gjeiSq7m+4NlgC4zDjlPSNqdFCzGOJ/PUfgUBSCCGoCdqdmFqAwHgA==,iv:lBKB5+3Y58g11t6P6iuyzIUjtmwWuAzzFi5PSZfpyP4=,tag:F4GlD5TBrf88HczzD5DDwA==,type:str]
    # The base64 encoded private key for service account token generation.
    serviceAccount:
        key: ENC[AES256_GCM,data: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,iv:CAYi83gFYaM76V6FQ1bAQCHQomst7OqOGTayykCMAE8=,tag:Liw2niB5S41r6SU5SYWF7A==,type:str]
    # API server specific configuration options.
    apiServer:
        # The container image used in the API server manifest.
        image: registry.k8s.io/kube-apiserver:v1.35.0
        # Configure the API server admission plugins.
        admissionControl:
            # Name is the name of the admission controller.
            - name: PodSecurity
              # Configuration is an embedded configuration object to be used as the plugin's
              configuration:
                apiVersion: pod-security.admission.config.k8s.io/v1alpha1
                defaults:
                    audit: restricted
                    audit-version: latest
                    enforce: baseline
                    enforce-version: latest
                    warn: restricted
                    warn-version: latest
                exemptions:
                    namespaces:
                        - kube-system
                    runtimeClasses: []
                    usernames: []
                kind: PodSecurityConfiguration
        # Configure the API server audit policy.
        auditPolicy:
            apiVersion: audit.k8s.io/v1
            kind: Policy
            rules:
                - level: Metadata
                  # # Configure the API server authorization config. Node and RBAC authorizers are always added irrespective of the configuration.
                  # authorizationConfig:
                  #     - type: Webhook # Type is the name of the authorizer. Allowed values are `Node`, `RBAC`, and `Webhook`.
                  #       name: webhook # Name is used to describe the authorizer.
                  #       # webhook is the configuration for the webhook authorizer.
                  #       webhook:
                  #         connectionInfo:
                  #             type: InClusterConfig
                  #         failurePolicy: Deny
                  #         matchConditionSubjectAccessReviewVersion: v1
                  #         matchConditions:
                  #             - expression: has(request.resourceAttributes)
                  #             - expression: '!(\''system:serviceaccounts:kube-system\'' in request.groups)'
                  #         subjectAccessReviewVersion: v1
                  #         timeout: 3s
                  #     - type: Webhook # Type is the name of the authorizer. Allowed values are `Node`, `RBAC`, and `Webhook`.
                  #       name: in-cluster-authorizer # Name is used to describe the authorizer.
                  #       # webhook is the configuration for the webhook authorizer.
                  #       webhook:
                  #         connectionInfo:
                  #             type: InClusterConfig
                  #         failurePolicy: NoOpinion
                  #         matchConditionSubjectAccessReviewVersion: v1
                  #         subjectAccessReviewVersion: v1
                  #         timeout: 3s
    # Controller manager server specific configuration options.
    controllerManager:
        # The container image used in the controller manager manifest.
        image: registry.k8s.io/kube-controller-manager:v1.35.0
    # Kube-proxy server-specific configuration options
    proxy:
        # The container image used in the kube-proxy manifest.
        image: registry.k8s.io/kube-proxy:v1.35.0
        # # Disable kube-proxy deployment on cluster bootstrap.
        # disabled: false
    # Scheduler server specific configuration options.
    scheduler:
        # The container image used in the scheduler manifest.
        image: registry.k8s.io/kube-scheduler:v1.35.0
    # Configures cluster member discovery.
    discovery:
        # Enable the cluster membership discovery feature.
        enabled: true
        # Configure registries used for cluster member discovery.
        registries:
            # Kubernetes registry uses Kubernetes API server to discover cluster members and stores additional information
            kubernetes:
                # Disable Kubernetes discovery registry.
                disabled: true
            # Service registry is using an external service to push and pull information about cluster members.
            service: {}
            # # External service endpoint.
            # endpoint: https://discovery.talos.dev/
    # Etcd specific configuration options.
    etcd:
        # The `ca` is the root certificate authority of the PKI.
        ca:
            crt: ENC[AES256_GCM,data:YKqyQLvKZNCLZI69nQuERUPHGt5fenMhFY3u5Obglj5FYaY+7GdSsOQbWD8S4fstCqr/G3Y1xVXL8KTeYppo+REzH/GubdyHyIhGgAn9HoX2vXbAD3bM4vOPpQDIFoPVZ+p6dpPKXBUdvn41uFoLuVxJ+uWkCVlOqQYbzQbHdrAvyuBF8LuNtXdppfcVapmd0wXja5ubHLgR5XEMvFXv1sAllpLN6tmoITF1P4F5yp7ljNdoXdrjouthZXhMLuBMLIogLrqEIjCMk3dGfWhlG7OeL+6YFcHDscwE9lt3kjEB8+k8EAipYLalCFFLy8sOEzbFhKih7uMfjzppm8H2x40Hv5ppPhudbP/7oKYdSkgwaHpXK0NFbPIGfjMzCSbBvb5ztgGV2MEI1GiBACXTTDhFLWoHZtGlolr6Ac+WjUmmKREGOqz8Wnnq5P/nbc2uqlhoP3Gv5ZIV+cCOND8r95HTRU88AMMe0Dj/qFQNZ1JG0VUU886bAhTll2Tp+HMIdfyEPgk1blZZFsMbhifo8Le5Tntb2G2v4OcNlsuDS+kV3eLFzmZOdZllc1dCPS60AbGSiyCZoqI2m1kdC8zzyzLEOic3ZXrMyPNUKnFvP8SFDM9FL00zTIkcRSUypG0SflAfWxYTaMbmCbngd2VrydsnggI7Q8tmsTT9VIxgY0NdH9W0OcDR/2M3YPQ0c9Cko9bfsuewN/PAfOnZyVrjTOM4LteAUEahi6dcqT3tUfqt7billfSVk+/cY4WjJZEQRDQeHgyJ8fwBfBaABpWLV3Tof5QiVyKwAG93b2dUwnBws3Gs2OqAAGUcBE57So+PGXY/fNiwc1scd5jhxqAKgNSrhjMDaEbJiX+ORzB+Vkllesgoo9kcWOS3KaTv5GuclahETQlKwt59hCVlocMDLp9u+qHTsAimjsaJneUmcB1fjKUs0ap9xO0yeoZ7SNdgp4kPwrNvQIAXE/UhYEsHgjUpAFkeE53DsU1kEKSWLkGdyA+J+guhH7PLCtyUzHrJCZ6o8w==,iv:iQaShQ/KtvtqXvVoQtwzbcGmM0W3cEv9f6eBMTVAcVI=,tag:QOUa5J/mBalTeSPpnlNGhg==,type:str]
            key: ENC[AES256_GCM,data:qU42Rqp3fNFLr2PO691g0g/Vjl6dQazfcT5BMafrJv7GYfET2c481/M4AY4Z4vtEJBcp+43Xmsf9T45QA140oCxTJXqzYELqEX2WsRS6XFurIEuk9IOhBKPkWDKu8Zv/ty8kK4hHlNf43fTkMJUi+JsLCRrsFjbgb22gjbTHjH3IzgVnc/XbdCbKDjCdYtnfJsdSzTei/+GinRLtqhxnEQwvYCxCtrzu8lQzSMwmkWsD7YGQicMpjnbn2z4TOm0VZ0OCnHbSNPDat0qSSTn6+zGIkf1Z9XrvA5LhP41FC+1J/UqWCPf7pVS2MuGFx6BeccKwMWJtUgsVEpL224Dl/eUzYp0ULpWwmcUGdY35P6v7IY6AXiJSKn2nLv/zK1m0Vm8ok2mi3Nqvn2TwBoFGNA==,iv:PAmnfhw26guQlvA8IxM6eilTg3ZWQ4oSGNATUarsnUM=,tag:tbudLDRE5HLHfLKLodCaBg==,type:str]
            # # The container image used to create the etcd service.
            # image: registry.k8s.io/etcd:v3.6.7
            # # The `advertisedSubnets` field configures the networks to pick etcd advertised IP from.
            # advertisedSubnets:
            #     - 10.0.0.0/8
    # A list of urls that point to additional manifests.
    extraManifests: []
    #   - https://www.example.com/manifest1.yaml
    #   - https://www.example.com/manifest2.yaml
    # A list of inline Kubernetes manifests.
    inlineManifests: []
    #   - name: namespace-ci # Name of the manifest.
    #     contents: |- # Manifest contents as a string.
    #       apiVersion: v1
    #       kind: Namespace
    #       metadata:
    #       	name: ci
# # A key used for the [encryption of secret data at rest](https://kubernetes.io/docs/tasks/administer-cluster/encrypt-data/).
# # Decryption secret example (do not use in production!).
# aescbcEncryptionSecret: z01mye6j16bspJYtTB/5SFX8j7Ph4JXxM2Xuu4vsBPM=
# # Core DNS specific configuration options.
# coreDNS:
#     image: registry.k8s.io/coredns/coredns:v1.13.2 # The `image` field is an override to the default coredns image.
# # External cloud provider configuration.
# externalCloudProvider:
#     enabled: true # Enable external cloud provider.
#     # A list of urls that point to additional manifests for an external cloud provider.
#     manifests:
#         - https://raw.githubusercontent.com/kubernetes/cloud-provider-aws/v1.20.0-alpha.0/manifests/rbac.yaml
#         - https://raw.githubusercontent.com/kubernetes/cloud-provider-aws/v1.20.0-alpha.0/manifests/aws-cloud-controller-manager-daemonset.yaml
# # A map of key value pairs that will be added while fetching the extraManifests.
# extraManifestHeaders:
#     Token: "1234567"
#     X-ExtraInfo: info
# # Settings for admin kubeconfig generation.
# adminKubeconfig:
#     certLifetime: 1h0m0s # Admin kubeconfig certificate lifetime (default is 1 year).
# # Allows running workload on control-plane nodes.
# allowSchedulingOnControlPlanes: true
sops:
    age:
        - recipient: age1fusq7grclzqxja8fxxul7f36hgjlr650agvd32e7r3205phrsums9z2dse
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBXbDZTcVUxaDdGQ3NaRHJ6
            eHBpUXBncUZsclhXdC9xb0VSczdZa1NoWGtjCldNMDNUc3RmTkFkMTR2d2hwMlFa
            NllPVEZCNFpsVTdnaHBPSzc4dXZFa3cKLS0tIEhvT0x6ZXpPbWw4Rk93Vkw3cDVX
            Q1lMYmNNNzhINk40dTVhNVM2bFBCZ2cKh/0Y87gxUN5U012eEq0D1SQ0wwtMZC96
            fkc3UVZQcODT4BzbWCGY+JwipdRSbekrCq1/uVm7I6dLfIc7qj9SQw==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-12-26T03:27:41Z"
    mac: ENC[AES256_GCM,data:SoHMUBMXVXYwhwo55QL/M+kx6xJEMnBWOXRXnHkLt5c6CKKtMj09CdSMGaAs/KWzfdL3dhA5pb9y/hDqpl9Kl+XJzWSfCEMvCY2PCr3z0vKReXS6GktVPaSnC5IuZxQ0RUKqhuByFwETWuMC357ls6eT9Yl4Vsi5pra4ZV95qE0=,iv:P73aYWFxetbI88QFRNDoyIzKeZEVr0f3ogdKsVUG5Eg=,tag:Q1kkPriC9j67UTFHzhBVyg==,type:str]
    encrypted_regex: (^token|crt|key|id|secret|secretboxEncryptionSecret)$
    version: 3.11.0
---
apiVersion: v1alpha1
kind: HostnameConfig
# A method to automatically generate a hostname for the machine.
auto: stable
# # A static hostname to set for the machine.
# hostname: controlplane1
# hostname: controlplane1.example.org
sops:
    age:
        - recipient: age1fusq7grclzqxja8fxxul7f36hgjlr650agvd32e7r3205phrsums9z2dse
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBXbDZTcVUxaDdGQ3NaRHJ6
            eHBpUXBncUZsclhXdC9xb0VSczdZa1NoWGtjCldNMDNUc3RmTkFkMTR2d2hwMlFa
            NllPVEZCNFpsVTdnaHBPSzc4dXZFa3cKLS0tIEhvT0x6ZXpPbWw4Rk93Vkw3cDVX
            Q1lMYmNNNzhINk40dTVhNVM2bFBCZ2cKh/0Y87gxUN5U012eEq0D1SQ0wwtMZC96
            fkc3UVZQcODT4BzbWCGY+JwipdRSbekrCq1/uVm7I6dLfIc7qj9SQw==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-12-26T03:27:41Z"
    mac: ENC[AES256_GCM,data:SoHMUBMXVXYwhwo55QL/M+kx6xJEMnBWOXRXnHkLt5c6CKKtMj09CdSMGaAs/KWzfdL3dhA5pb9y/hDqpl9Kl+XJzWSfCEMvCY2PCr3z0vKReXS6GktVPaSnC5IuZxQ0RUKqhuByFwETWuMC357ls6eT9Yl4Vsi5pra4ZV95qE0=,iv:P73aYWFxetbI88QFRNDoyIzKeZEVr0f3ogdKsVUG5Eg=,tag:Q1kkPriC9j67UTFHzhBVyg==,type:str]
    encrypted_regex: (^token|crt|key|id|secret|secretboxEncryptionSecret)$
    version: 3.11.0
